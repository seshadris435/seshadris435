class ATM:
    def __init__(self, pin, initial_balance=0):
        self.pin = pin
        self.balance = initial_balance
        self.transaction_history = []
    
    def check_pin(self, entered_pin):
        return self.pin == entered_pin

    def get_balance(self):
        return self.balance
    
    def deposit(self, amount):
        if amount > 0:
            self.balance += amount
            self.transaction_history.append(f"Deposited: ${amount}")
            print(f"${amount} deposited successfully.")
        else:
            print("Invalid deposit amount.")
    
    def withdraw(self, amount):
        if amount > 0 and amount <= self.balance:
            self.balance -= amount
            self.transaction_history.append(f"Withdrew: ${amount}")
            print(f"${amount} withdrawn successfully.")
        elif amount > self.balance:
            print("Insufficient balance.")
        else:
            print("Invalid withdrawal amount.")
    
    def change_pin(self, old_pin, new_pin):
        if self.check_pin(old_pin):
            self.pin = new_pin
            self.transaction_history.append("PIN changed.")
            print("PIN changed successfully.")
        else:
            print("Incorrect old PIN.")
    
    def get_transaction_history(self):
        return self.transaction_history

def atm_menu(atm):
    while True:
        print("\nATM Main Menu:")
        print("1. Balance Inquiry")
        print("2. Cash Deposit")
        print("3. Cash Withdrawal")
        print("4. Change PIN")
        print("5. Transaction History")
        print("6. Exit")
        choice = input("Choose an option: ")

        if choice == '1':
            print(f"Current Balance: ${atm.get_balance()}")
        elif choice == '2':
            amount = float(input("Enter amount to deposit: "))
            atm.deposit(amount)
        elif choice == '3':
            amount = float(input("Enter amount to withdraw: "))
            atm.withdraw(amount)
        elif choice == '4':
            old_pin = input("Enter current PIN: ")
            new_pin = input("Enter new PIN: ")
            atm.change_pin(old_pin, new_pin)
        elif choice == '5':
            history = atm.get_transaction_history()
            print("Transaction History:")
            for transaction in history:
                print(transaction)
        elif choice == '6':
            print("Thank you for using the ATM. Goodbye!")
            break
        else:
            print("Invalid choice. Please try again.")

# Example usage
initial_pin = input("Set your initial PIN: ")
atm = ATM(pin=initial_pin, initial_balance=1000)
entered_pin = input("Enter your PIN to access the ATM: ")

if atm.check_pin(entered_pin):
    atm_menu(atm)
else:
    print("Incorrect PIN. Access denied.")
